"use strict";

exports.__esModule = true;
exports.WebComponent = WebComponent;

var _middleware = require("./middleware");

var _connectedCallback = require("./connectedCallback");

var _connectedCallback2 = _interopRequireDefault(_connectedCallback);

var _attributeChangedCallback = require("./attributeChangedCallback");

var _attributeChangedCallback2 = _interopRequireDefault(_attributeChangedCallback);

var _proxy = require("./proxy");

var _proxy2 = _interopRequireDefault(_proxy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function WebComponent(name) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  return function (target) {
    target = (0, _middleware.applyMiddleware)((0, _connectedCallback2["default"])(options), _attributeChangedCallback2["default"], _proxy2["default"])(target);

    return customElements.define(name, target, {
      "extends": options["extends"]
    });
  };
}